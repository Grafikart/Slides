<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>JS Outils</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <script type="module" src="/src/main.ts" defer></script>
    <link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/monokai-sublime.css">
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.4.0/dist/reveal.css">
    <link rel="stylesheet" href="../style.css">
    <style>
        :root body {
            --primary: #58c4dc;
            --secondary: #f6f7f9;
            --background: #16181d;
        }
    </style>
</head>

<body>
<div class="reveal">
    <div class="slides">

        <section data-time="30">
            <h1>Tester sur React</h1>
        </section>

        <section>

            <section data-time="80">
                <h2>Les outils</h2>
                <ul class="text-secondary">
                    <li>Jest</li>
                    <li>Vitest</li>
                </ul>
            </section>

            <section data-time="330">
                <h2>Vitest</h2>
                <ul class="text-secondary">
                    <li class="fragment">S'installe facilement dans un projet Vite</li>
                    <li class="fragment">Fonctionne avec TypeScript / React</li>
                </ul>
                <aside class="notes">
                    Faire l'installation de vite
                </aside>
            </section>

            <section>
                <h2>Comment tester avec le DOM ?</h2>
                <ul class="text-secondary">
                    <li>JSDom / Happy-DOM</li>
                </ul>
                <aside class="notes">
                    Faire l'installation de JSDom<br/>
                    Tester updateTitle()
                </aside>
            </section>
        </section>

        <section>

            <section>
                <h1>Comment tester les hooks ?</h1>
            </section>

            <section data-time="180">
                <h2>React testing library</h2>
                <pre>npm i -D @testing-library/react @testing-library/dom</pre>
            </section>

            <section>
                <h2>Les fonctions à connaitre</h2>
                <ul class="text-secondary">
                    <li>renderHook(), pour le rendu initial</li>
                    <li>act(), dès qu'on appelle une méthode</li>
                </ul>
                <aside class="notes">
                    Tester useToggle()<br/>
                    npm i -D @testing-library/react @testing-library/dom
                </aside>
            </section>

            <section>
                <h2>Tester les effets de bords</h2>
                <ul class="text-secondary">
                    <li>Comment gérer fetch() ?</li>
                    <li class="fragment">En utilisant l'injection de dépendance</li>
                </ul>
                <aside class="notes">
                    Tester useFetch()<br/>
                </aside>
            </section>

            <section>
                <h2>Mock & Espions</h2>
                <ul class="text-secondary">
                    <li class="fragment">Mock du temps</li>
                    <li class="fragment">Espion</li>
                </ul>
                <aside class="notes">
                    Tester useIsWeekend()
                    Tester useFetch()<br/>
                </aside>
            </section>


        </section>

        <section>

            <section>
                <h1>Comment tester les composants ?</h1>
            </section>

            <section>
                <h2>Les fonctions utiles</h2>
                <ul class="text-secondary">
                    <li>@testing-library/react</li>
                    <li>@testing-library/user-event</li>
                </ul>
                <aside class="notes">
                    Tester Modal (snapshot, le click sur close...)
                </aside>
            </section>

            <section>
                <h2>Storybook</h2>
                <ul class="text-secondary">
                    <li>npx storybook@latest init</li>
                </ul>
            </section>

        </section>

        <section>
            <section>
                <h1>Tester de bout en bout</h1>
                <ul class="text-secondary">
                    <li class="fragment">Piloter un navigateur</li>
                    <li class="fragment">Playwright</li>
                </ul>
            </section>
        </section>

    </div>
</div>
</body>

</html>
